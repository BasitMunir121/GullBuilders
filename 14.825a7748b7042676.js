"use strict";(self.webpackChunkSpike=self.webpackChunkSpike||[]).push([[14],{9014:(H,g,n)=>{n.r(g),n.d(g,{AuthenticationModule:()=>W});var m=n(2787),C=n(6814),x=n(617),y=n(5195),d=n(2032),h=n(5986),c=n(2296),o=n(6223),S=n(9134),U=n(9441),v=n(7706),Z=n(1256),q=n(1374),t=n(9212),T=n(982),A=n(7853),w=n(1126),l=n(4170);function N(e,a){1&e&&(t.TgZ(0,"div",26),t._uU(1,"Name is required."),t.qZA())}function I(e,a){1&e&&(t.TgZ(0,"div",26),t._uU(1," Name should be 6 character. "),t.qZA())}function Y(e,a){if(1&e&&(t.TgZ(0,"mat-hint",24),t.YNc(1,N,2,0,"div",25)(2,I,2,0,"div",25),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.um2(1,i.f.uname.errors&&i.f.uname.errors.required?1:-1),t.xp6(1),t.um2(2,i.f.uname.errors&&i.f.uname.errors.minlength?2:-1)}}function _(e,a){1&e&&(t.TgZ(0,"div",26),t._uU(1,"Password is required."),t.qZA())}function L(e,a){if(1&e&&(t.TgZ(0,"mat-hint",24),t.YNc(1,_,2,0,"div",25),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.um2(1,i.f.password.errors&&i.f.password.errors.required?1:-1)}}const R=()=>["/authentication/side-register"];let p=(()=>{class e{constructor(i,s,r,u,f){this.settings=i,this.router=s,this.authService=r,this.route=u,this.session=f,this.options=this.settings.getOptions(),this.form=new o.cw({uname:new o.NI("",[o.kI.required,o.kI.minLength(6)]),password:new o.NI("",[o.kI.required])}),this.error=""}get f(){return this.form.controls}submit(){return this.authService.loginWithUsername(this.form.value.uname??"",this.form.value.password??"").pipe((0,q.P)()).subscribe(i=>{this.handleLoginRequest(i)})}handleLoginRequest(i){this.route.queryParams.subscribe(s=>{this.router.navigate(["/dashboard"],{queryParams:{...s},queryParamsHandling:"merge"})})}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(T.p),t.Y36(m.F0),t.Y36(A.e),t.Y36(m.gz),t.Y36(w.m))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-side-login"]],inputs:{error:"error"},standalone:!0,features:[t.jDz],decls:35,vars:6,consts:[[1,"blank-layout-container","justify-content-center"],[1,"auth-wrapper"],[1,"position-relative","shaper-wrapper"],[1,"w-100","position-relative","rounded","bg-white","auth-card"],[1,"auth-body"],[1,"row"],[1,"col-lg-6"],[1,"align-items-center","justify-content-center","d-none","d-lg-flex"],["src","/assets/images/backgrounds/login3-bg.png","alt","login",1,"m-t-20",2,"width","500px"],[1,"d-flex","align-items-start","align-items-lg-center","justify-content-center"],[1,"row","justify-content-center","w-100"],[1,"col-lg-11"],[1,"f-w-700","f-s-30","m-0","m-t-20","lh-base"],[1,"m-t-30",3,"formGroup","ngSubmit"],[1,"mat-subtitle-2","f-s-14","f-w-600","m-b-12","d-block"],["appearance","outline","color","primary",1,"w-100"],["matInput","","formControlName","uname"],["class","m-b-16 error-msg"],["matInput","","type","password","formControlName","password"],[1,"d-block","d-lg-flex","align-items-center","m-b-12"],["color","primary"],["mat-flat-button","","color","primary",1,"w-100",3,"disabled"],[1,"d-block","f-w-500","d-block","m-t-24"],[1,"text-decoration-none","text-primary","f-w-500","f-s-14",3,"routerLink"],[1,"m-b-16","error-msg"],["class","text-error"],[1,"text-error"]],template:function(s,r){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),t._UZ(8,"img",8),t.qZA()(),t.TgZ(9,"div",6)(10,"div",9)(11,"div",10)(12,"div",11)(13,"h4",12),t._uU(14," Welcome to GullBuilders "),t.qZA(),t.TgZ(15,"form",13),t.NdJ("ngSubmit",function(){return r.submit()}),t.TgZ(16,"mat-label",14),t._uU(17,"Username / E-mail"),t.qZA(),t.TgZ(18,"mat-form-field",15),t._UZ(19,"input",16),t.YNc(20,Y,3,2,"mat-hint",17),t.qZA(),t.TgZ(21,"mat-label",14),t._uU(22,"Password"),t.qZA(),t.TgZ(23,"mat-form-field",15),t._UZ(24,"input",18),t.YNc(25,L,2,1,"mat-hint",17),t.qZA(),t.TgZ(26,"div",19)(27,"mat-checkbox",20),t._uU(28,"Remember this Device"),t.qZA()(),t.TgZ(29,"button",21),t._uU(30," Sign In "),t.qZA()(),t.TgZ(31,"span",22),t._uU(32,"New to Portal? "),t.TgZ(33,"a",23),t._uU(34," Create an account"),t.qZA()()()()()()()()()()()()),2&s&&(t.xp6(15),t.Q6J("formGroup",r.form),t.xp6(5),t.um2(20,r.f.uname.touched&&r.f.uname.invalid?20:-1),t.xp6(5),t.um2(25,r.f.password.touched&&r.f.password.invalid?25:-1),t.xp6(4),t.Q6J("disabled",!r.form.valid),t.xp6(4),t.Q6J("routerLink",t.DdM(5,R)))},dependencies:[m.Bz,m.rH,Z.q,h.oG,l.KE,l.hX,l.bx,d.Nt,c.lW,o.u5,o._Y,o.Fj,o.JJ,o.JL,o.UX,o.sg,o.u],encapsulation:2})}return e})();var J=n(6322),j=n(3680),P=n(8525);function k(e,a){1&e&&(t.TgZ(0,"div",29),t._uU(1,"Name is required."),t.qZA())}function D(e,a){1&e&&(t.TgZ(0,"div",29),t._uU(1," Name should be 6 character. "),t.qZA())}function E(e,a){if(1&e&&(t.TgZ(0,"mat-hint",27),t.YNc(1,k,2,0,"div",28)(2,D,2,0,"div",28),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.um2(1,i.f.uname.errors&&i.f.uname.errors.required?1:-1),t.xp6(1),t.um2(2,i.f.uname.errors&&i.f.uname.errors.minlength?2:-1)}}function z(e,a){1&e&&(t.TgZ(0,"div",29),t._uU(1,"Email is required."),t.qZA())}function F(e,a){if(1&e&&(t.TgZ(0,"mat-hint",27),t.YNc(1,z,2,0,"div",28),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.um2(1,i.f.email.errors&&i.f.email.errors.required?1:-1)}}function G(e,a){1&e&&(t.TgZ(0,"div",29),t._uU(1,"Password is required."),t.qZA())}function B(e,a){if(1&e&&(t.TgZ(0,"mat-hint",27),t.YNc(1,G,2,0,"div",28),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.um2(1,i.f.password.errors&&i.f.password.errors.required?1:-1)}}const Q=()=>["/authentication/side-login"];let b=(()=>{class e{constructor(i,s,r,u,f,M){this.settings=i,this.router=s,this.authService=r,this.route=u,this.session=f,this._notifyService=M,this.options=this.settings.getOptions(),this.form=new o.cw({roleId:new o.NI("",[o.kI.required]),uname:new o.NI("",[o.kI.required,o.kI.minLength(6)]),email:new o.NI("",[o.kI.required]),password:new o.NI("",[o.kI.required])})}get f(){return this.form.controls}submit(){this.authService.register(this.form.value.email??"",this.form.value.password??"",parseInt(this.form.value.roleId??"1")).subscribe({next:i=>{null!=i.email?(this._notifyService.showToast("you have successfully registered. Please login to continue.",!1),this.router.navigateByUrl("/authentication")):this._notifyService.showToast(i.ErrorDetails?i.ErrorDetails:"Error while adding the target URL.",!0)},error:i=>{this._notifyService.showToast(i.error?.ErrorDetails?i.error.ErrorDetails:i.status&&200!==i.status?i.error:i.message,!0)}})}static#t=this.\u0275fac=function(s){return new(s||e)(t.Y36(T.p),t.Y36(m.F0),t.Y36(A.e),t.Y36(m.gz),t.Y36(w.m),t.Y36(J.c))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-side-register"]],standalone:!0,features:[t.jDz],decls:49,vars:7,consts:[[1,"blank-layout-container","justify-content-center"],[1,"auth-wrapper"],[1,"position-relative","shaper-wrapper"],[1,"w-100","position-relative","rounded","bg-white","auth-card"],[1,"auth-body"],[1,"row"],[1,"col-lg-6"],[1,"align-items-center","justify-content-center","d-none","d-lg-flex"],["src","/assets/images/backgrounds/login3-bg.png","alt","login",1,"m-t-20",2,"width","500px"],[1,"d-flex","align-items-start","align-items-lg-center","justify-content-center"],[1,"row","justify-content-center","w-100"],[1,"col-lg-11"],[1,"f-w-700","f-s-30","lh-base","m-0"],[1,"m-t-30",3,"formGroup","ngSubmit"],[1,"mat-subtitle-2","f-s-14","f-w-600","m-b-12","d-block"],["appearance","outline","color","primary",1,"w-100"],["formControlName","roleId"],["value","1"],["value","2"],["value","3"],["matInput","","formControlName","uname"],["class","m-b-16 error-msg"],["matInput","","type","email","formControlName","email"],["matInput","","type","password","formControlName","password"],["mat-flat-button","","color","primary",1,"w-100",3,"disabled"],[1,"d-block","f-w-500","d-block","m-t-24"],[1,"text-decoration-none","text-primary","f-w-500","f-s-14",3,"routerLink"],[1,"m-b-16","error-msg"],["class","text-error"],[1,"text-error"]],template:function(s,r){1&s&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),t._UZ(8,"img",8),t.qZA()(),t.TgZ(9,"div",6)(10,"div",9)(11,"div",10)(12,"div",11)(13,"h4",12),t._uU(14," Welcome to GullBuilders "),t.qZA(),t.TgZ(15,"form",13),t.NdJ("ngSubmit",function(){return r.submit()}),t.TgZ(16,"mat-label",14),t._uU(17,"Select Role"),t.qZA(),t.TgZ(18,"mat-form-field",15)(19,"mat-label"),t._uU(20,"Select an option"),t.qZA(),t.TgZ(21,"mat-select",16)(22,"mat-option",17),t._uU(23," Farmer "),t.qZA(),t.TgZ(24,"mat-option",18),t._uU(25," Vendor "),t.qZA(),t.TgZ(26,"mat-option",19),t._uU(27," Government Official "),t.qZA()()(),t.TgZ(28,"mat-label",14),t._uU(29,"Name"),t.qZA(),t.TgZ(30,"mat-form-field",15),t._UZ(31,"input",20),t.YNc(32,E,3,2,"mat-hint",21),t.qZA(),t.TgZ(33,"mat-label",14),t._uU(34,"Email Address"),t.qZA(),t.TgZ(35,"mat-form-field",15),t._UZ(36,"input",22),t.YNc(37,F,2,1,"mat-hint",21),t.qZA(),t.TgZ(38,"mat-label",14),t._uU(39,"Password"),t.qZA(),t.TgZ(40,"mat-form-field",15),t._UZ(41,"input",23),t.YNc(42,B,2,1,"mat-hint",21),t.qZA(),t.TgZ(43,"button",24),t._uU(44," Sign Up "),t.qZA()(),t.TgZ(45,"span",25),t._uU(46,"Already have an Account? "),t.TgZ(47,"a",26),t._uU(48," Sign In"),t.qZA()()()()()()()()()()()()),2&s&&(t.xp6(15),t.Q6J("formGroup",r.form),t.xp6(17),t.um2(32,r.f.uname.touched&&r.f.uname.invalid?32:-1),t.xp6(5),t.um2(37,r.f.email.touched&&r.f.email.invalid?37:-1),t.xp6(5),t.um2(42,r.f.password.touched&&r.f.password.invalid?42:-1),t.xp6(1),t.Q6J("disabled",!r.form.valid),t.xp6(4),t.Q6J("routerLink",t.DdM(6,Q)))},dependencies:[m.Bz,m.rH,Z.q,j.ey,l.KE,l.hX,l.bx,d.Nt,P.gD,c.lW,o.u5,o._Y,o.Fj,o.JJ,o.JL,o.UX,o.sg,o.u],encapsulation:2})}return e})();const X=[{path:"",children:[{path:"",component:p},{path:"error",component:v.h},{path:"side-login",component:p},{path:"side-register",component:b}]}];let W=(()=>{class e{static#t=this.\u0275fac=function(s){return new(s||e)};static#e=this.\u0275mod=t.oAB({type:e});static#i=this.\u0275inj=t.cJS({imports:[C.ez,m.Bz.forChild(X),x.Ps,y.QW,d.c,h.p9,c.ot,o.u5,o.UX,S.et.pick(U),v.h,p,b]})}return e})()}}]);